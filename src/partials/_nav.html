<nav id="nav">
  <div class="nav">
    <ul class="unstyled lego-nav lego-nav--stacked soft-double delta">
      {% for key, item in paths.navigation %}
        <li class="push--bottom">
          <a class="main-section{% if item.path === topPath %} active{% endif %}" href="{{ item.path }}"{% if item.path !== '/samples/' && item.path !== '/overview/' %} data-collapser{% endif %}>{{ item.title }}</a>
          <!-- TOC for overview and code samples -->
          {% if item.path === '/overview/' || item.path === '/samples' %}
            <ul class="unstyled lego-nav lego-nav--stacked epsilon toc"></ul>
          {% endif %}
          <!-- Sub sections -->
          <ul class="unstyled lego-nav lego-nav--stacked epsilon soft--left collapsible{% if item.path !== topPath %} is-collapsed{% endif %}">
            {% for sub_key, section in item.sections %}
              <li>
                <a class="section{% if item.path + section.path === '/' + relativePath %} active{% endif %}" href="{{ item.path }}{{ section.path }}index.html">{{ section.title }}</a>
                <ul class="unstyled lego-nav lego-nav--stacked toc"></ul>
              </li>
            {% endfor %}
          </ul>
        </li>
      {% endfor %}
    </ul>
  </div>
</nav>
